!function(a){jQuery(document).ready(function(){function b(b,c,d,e,f){a(b).find("["+c+"]").each(function(){a(this)[f](c,function(b,f){var g=f.split("-"),h=g.join("-");if(g[e.length-1]=d,f=g.join("-"),"id"==c){var i=a("."+h);i.removeClass(h).addClass(f.replace(/\d+/g,0))}return f})})}function c(c){var d=a('[data-caldoza-template="'+c+'"'),e=c.split("-");d.children().each(function(a,c){e[e.length-1]=a;e.join("-");b(c,"name",a,e,"attr"),b(c,"data-caldoza-template",a,e,"attr"),b(c,"id",a,e,"prop"),b(c,"for",a,e,"attr")})}a(document).on("click","[data-caldoza-repeat]",function(b){var c=a(this),d=c.data("caldozaRepeat"),e="";e=a("#"+d+"-tmpl").html(),e=a(e.replace(/{{_inst_}}/g,0)).hide(),c.parent().prev().append(e),e.slideDown(100),a(document).trigger("caldoza.init")}),a(document).on("click",".caldoza-remover",function(b){var c=a(this),d=c.closest("[data-caldoza-template]");d.data("caldozaTemplate");a(this).parent().slideUp(100,function(){a(this).remove()}),a(document).trigger("caldoza.init")}),a(document).on("caldoza.init",function(){var b=a("[data-caldoza-template]");b.each(function(){var b=a(this).attr("data-caldoza-template");c(b)})}),a("[data-caldoza-repeat]").each(function(){var b=a(this).attr("data-caldoza-repeat"),c=a("."+b);c.removeClass(b),b=b.replace(/\d+/g,0),c.addClass(b),a(this).attr("data-caldoza-repeat",b)}),a(document).trigger("caldoza.init")})}(jQuery);